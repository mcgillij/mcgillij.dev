{% extends "base.html" %}

{% block title %}
    {{ SITENAME }} - {{ article.title }}
{% endblock %}



{% block content %}

    <div class="article">
	<img src="{{ article.cover_image_url }}" alt="Cover image">
        <h1>{{ article.title }}</h1>
        <small>published {{ article.date.strftime('%d/%m/%Y') }} in <a href="{{ SITEURL }}/{{ category.url }}">{{ category }}</a></small>
        <small>| tags : </small>
        {% for tag in article.tags %}
            {% if loop.last %}
                <span class="tag"><a href="{{ SITEURL}}/{{ tag.url }}">{{ tag }}</a></span>
            {% else %}
                <span class="tag"><a href="{{ SITEURL}}/{{ tag.url }}">{{ tag }}</a>,</span>
            {% endif %}
        {% endfor %}
	{% if article.readtime %}
	<span><p style="text-align:right; color:#aaaaaa; ">&nbsp Estimated read time: {{article.readtime.minutes}} min.</p></span>
	{% endif %}
        <div class="article-content">
            {{ article.content }}
        </div>
    </div>
<div id="disqus_thread"></div>
<script>

    var disqus_config = function () {
		    this.page.url = "{{ SITEURL }}/{{ article.url }}";
		    this.page.identifier = "{{ SITEURL }}/{{ article.title }}";
    this.page.title = "{{ article.title }}";
    };

    (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://mcgillij-dev.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>

{% endblock %}

{% block side %}
    {{ super() }}
    {% if article.toc %}
	<nav class="toc">
	    {{ article.toc }}
	</nav>
    {% endif %} 
{% endblock %}
